---
import { type CollectionEntry, getCollection } from "astro:content";
import { render } from "astro:content";
import Layout from "../../layouts/Layout.astro";

export async function getStaticPaths() {
  const posts = await getCollection("resources");
  return posts.map((post) => ({
    params: { slug: post.id },
    props: post,
  }));
}
type Props = CollectionEntry<"resources">;

const post = Astro.props;
const { Content } = await render(post);
---

<Layout>
  <article
    class="max-w-[90ch] mx-auto [&>p]:leading-7 [&>p:not(:first-child)]:mt-6"
  >
    <h1 class="scroll-m-20 text-4xl font-extrabold tracking-tight">
      {post.data.title}.
    </h1>
    <p class="text-xl leading-7 my-6">
      {post.data.description}
    </p>
    <img class="w-full aspect-video bg-black rounded-2xl" />
    <Content />
  </article>
</Layout>
